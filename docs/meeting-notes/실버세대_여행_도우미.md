# 🏥 실버케어 여행 플랫폼 - MSA + AI Agent 기반 프로젝트 계획서

##  프로젝트 개요

**프로젝트명**: SilverCare Travel - AI 기반 시니어 맞춤형 안전 여행 통합 플랫폼  
**개발 기간**: 10주 (2.5개월)  
**팀 구성**: 6명 (Backend 2명, Frontend 2명, AI/ML 1명, DevOps 1명)  
**아키텍처**: MSA (Microservice Architecture) + Multi-Agent System

---

##  프로젝트 목표

### 핵심 문제 해결
1. **시니어 여행 안전성 강화** - 실시간 건강/위험 모니터링
2. **맞춤형 여행 경험 제공** - 체력/건강 상태 고려한 일정 최적화
3. **비용 최적화** - AI 기반 항공권 가격 감시 및 재예약 제안
4. **통합 플랫폼** - 항공권, 숙소, 일정, 안전을 한 곳에서 관리

---

## 🏗️ 시스템 아키텍처

### MSA 전체 구조도

```
┌─────────────────────────────────────────────────────────┐
│                   Client Layer                           │
│  (React Frontend - 시니어 친화적 UI/UX)                   │
└──────────────────────┬──────────────────────────────────┘
                       │
┌──────────────────────▼──────────────────────────────────┐
│          API Gateway (Spring Cloud Gateway)              │
│  - 인증/인가 (JWT)                                        │
│  - 라우팅                                                │
│  - Rate Limiting                                         │
└──────────────────────┬──────────────────────────────────┘
                       │
        ┌──────────────┼──────────────┐
        │              │              │
┌───────▼────────┐ ┌──▼─────────┐ ┌──▼──────────┐
│ 1. 항공권       │ │ 2. 숙소     │ │ 3. 여행코스  │
│   예매 서비스    │ │   예약 서비스│ │   플래너     │
└────────────────┘ └────────────┘ └─────────────┘

┌────────────────┐ ┌────────────┐ ┌─────────────┐
│ 4. AI Agent    │ │ 5. 사용자   │ │ 6. 건강/안전 │
│   Orchestrator │ │   & 리뷰    │ │   모니터링   │
└────────────────┘ └────────────┘ └─────────────┘

┌────────────────┐
│ 7. 알림 &      │
│   챗봇 서비스   │
└────────────────┘

┌─────────────────────────────────────────────────────────┐
│              Infrastructure Layer                        │
│  - PostgreSQL (예약/사용자 데이터)                         │
│  - MongoDB (리뷰/로그 데이터)                              │
│  - Redis (캐싱/세션)                                      │
│  - RabbitMQ (메시지 큐)                                   │
└─────────────────────────────────────────────────────────┘
```

---

## 🔧 MSA 모듈 상세 설계

### 1️⃣ 항공권 예매 서비스

#### 📋 핵심 기능
1. **항공권 검색 및 예약**
   - 다중 항공사 실시간 가격 조회
   - 날짜/시간/좌석 등급별 필터링
   - 시니어 할인 자동 적용

2. **예약 관리**
   - 예약 생성/조회/수정/취소
   - 여권 정보 관리
   - 결제 처리 (PG 연동)

3. **가격 알림**
   - 사용자가 관심 표시한 항공권 가격 추적
   - 가격 하락 시 알림 발송

#### 🛠️ 기술 스택 & Tools

| 항목 | 기술/도구 | 용도 |
|------|----------|------|
| **Framework** | Spring Boot 3.2 | REST API 개발 |
| **외부 API** | Amadeus Flight API<br>Skyscanner API | 항공권 데이터 조회 |
| **Database** | PostgreSQL | 예약 정보 저장 |
| **캐싱** | Redis | 검색 결과 캐싱 (5분) |
| **결제** | Toss Payments API | 결제 처리 |



#### 🔌 API 엔드포인트

```
GET    /api/flights/search          - 항공권 검색
POST   /api/flights/bookings        - 항공권 예약
GET    /api/flights/bookings/{id}   - 예약 상세 조회
PUT    /api/flights/bookings/{id}   - 예약 수정
DELETE /api/flights/bookings/{id}   - 예약 취소
POST   /api/flights/price-watch     - 가격 추적 등록
```

---

### 2️⃣ 숙소 예약 서비스

#### 📋 핵심 기능
1. **숙소 검색**
   - 지역/날짜/가격대별 검색
   - 시니어 친화적 필터 (엘리베이터, 1층 객실, 의료 시설 근처)

2. **예약 관리**
   - 숙소 예약/취소
   - 체크인/체크아웃 관리

3. **추천 시스템**
   - 여행지 근처 숙소 자동 추천
   - 건강 상태 고려한 숙소 필터링

#### 🛠️ 기술 스택 & Tools

| 항목 | 기술/도구 | 용도 |
|------|----------|------|
| **Framework** | Spring Boot 3.2 | REST API 개발 |
| **외부 API** | Booking.com API<br>Google Hotels API | 숙소 데이터 조회 |
| **Database** | PostgreSQL | 예약 정보 저장 |
| **추천 엔진** | TensorFlow Recommenders | 숙소 추천 |


### 3️⃣ 여행 코스 플래너 서비스 ⭐ (핵심 차별화)

#### 📋 핵심 기능

1. **AI 기반 맞춤형 코스 생성**
   - 사용자 프로필 분석 (나이, 건강 상태, 체력 레벨, 선호도)
   - 최적 동선 계산 (이동 시간 최소화)
   - 체력 소모 예측 및 휴식 시간 자동 배치

2. **코스 구성 요소**
   - 관광지 추천 (접근성, 난이도 고려)
   - 맛집 추천 (건강식, 좌식/입식 선택 가능)
   - 휴게 장소 제안 (벤치, 카페, 의료 시설)

3. **실시간 코스 조정**
   - 날씨 변화에 따른 일정 수정
   - 체력 소모 실시간 모니터링
   - 긴급 상황 시 최적 경로 재계산

4. **테마 코스**
   - 역사 문화 코스
   - 힐링 드라이브 코스
   - 걷기 좋은 코스
   - 맛집 탐방 코스

#### 🛠️ 기술 스택 & Tools

| 항목 | 기술/도구 | 용도 |
|------|----------|------|
| **Framework** | Spring Boot 3.2 | REST API 개발 |
| **외부 API** | 한국관광공사 TourAPI<br>Google Places API<br>네이버 지도 API<br>카카오맵 API | 관광지/맛집 정보 |
| **경로 최적화** | OR-Tools (Google)<br>Google Maps Directions API | 최적 경로 계산 |
| **AI 추천** | LangChain + GPT-4 | 맞춤형 추천 |
| **Database** | PostgreSQL + MongoDB | 코스 정보 & 로그 |


#### 🔌 API 엔드포인트

```
POST   /api/itinerary/generate          - AI 기반 코스 자동 생성
GET    /api/itinerary/{id}              - 코스 상세 조회
PUT    /api/itinerary/{id}              - 코스 수정
POST   /api/itinerary/{id}/optimize     - 경로 최적화
GET    /api/itinerary/{id}/navigation   - 실시간 네비게이션
POST   /api/itinerary/{id}/adjust       - 날씨/체력 기반 실시간 조정
```

---

### 4️⃣ AI Agent Orchestrator 서비스 🤖 (핵심 혁신)

#### 📋 Multi-Agent System 구조

```
┌─────────────────────────────────────────┐
│       Master Orchestrator Agent          │
│  - 전체 Agent 조율                        │
│  - Task 분배 및 우선순위 결정              │
│  - 결과 통합 및 의사결정                   │
└──────────────┬──────────────────────────┘
               │
    ┌──────────┼──────────┬──────────┐
    │          │          │          │
┌───▼───┐  ┌──▼───┐  ┌──▼───┐  ┌──▼───┐
│Price  │  │Safety│  │Itiner│  │Health│
│Watch  │  │Monit │  │-ary  │  │Check │
│Agent  │  │-or   │  │Optim │  │Agent │
└───┬───┘  └──┬───┘  └──┬───┘  └──┬───┘
    │         │         │         │
┌───▼─────────▼─────────▼─────────▼───┐
│        Shared Knowledge Base          │
│  - 사용자 컨텍스트                     │
│  - 실시간 데이터                       │
│  - 의사결정 히스토리                   │
└───────────────────────────────────────┘
```

#### 🤖 Agent 상세 설계

##### **1. Master Orchestrator Agent**

**역할**: 모든 Agent의 중앙 조율자

**Tools**:
```python
tools = [
    "TaskPlanner",          # 작업 계획 수립
    "AgentSelector",        # 적절한 Agent 선택
    "ConflictResolver",     # Agent 간 충돌 해결
    "PriorityManager",      # 우선순위 결정
    "ResultAggregator"      # 결과 통합
]

현재 사용 가능한 Agent:
1. PriceWatchAgent - 항공권 가격 모니터링
2. SafetyMonitorAgent - 여행지 안전 정보 분석
3. ItineraryOptimizerAgent - 여행 일정 최적화
4. HealthCheckerAgent - 건강 상태 체크

**역할**: 항공권 가격 24시간 모니터링 및 재예약 제안

**Tools**:
```python
tools = [
    "FlightPriceChecker",      # 실시간 가격 조회
    "PriceHistoryAnalyzer",    # 가격 추세 분석
    "CancellationFeeCalculator", # 환불 수수료 계산
    "SavingsCalculator",       # 절감액 계산
    "NotificationSender"       # 알림 발송

**API 연동**:
- **Amadeus Flight Offers API**: 실시간 가격 조회
- **Skyscanner API**: 가격 비교

##### **3. Safety Monitor Agent**

**역할**: 여행지 실시간 안전 정보 분석 및 경고

**Tools**:
```python
tools = [
    "TravelAdvisoryChecker",   # 외교부 여행 경보 조회
    "NewsAnalyzer",            # 현지 뉴스 분석 (AI)
    "WeatherMonitor",          # 날씨 위험 감지
    "EmergencyContactFinder",  # 긴급 연락처 검색
    "RiskScoreCalculator"      # 위험도 점수 계산
]
``

**API 연동**:
- **외교부 해외안전여행 API**: 여행 경보
- **OpenWeatherMap API**: 날씨 정보
- **NewsAPI**: 현지 뉴스 수집

##### **4. Itinerary Optimizer Agent**

**역할**: 일정 최적화 및 실시간 조정

**Tools**:
```python
tools = [
    "RouteOptimizer",          # 최적 경로 계산 (OR-Tools)
    "StaminaPredictor",        # 체력 소모 예측 (ML)
    "RestTimeCalculator",      # 휴식 시간 계산
    "WeatherAdjuster",         # 날씨 기반 일정 조정
    "AccessibilityChecker"     # 접근성 체크
]

**ML 모델**: TensorFlow 기반 체력 소모 예측 모델
```python

##### **5. Health Checker Agent**

**역할**: 사용자 건강 상태 실시간 모니터링

**Tools**:
```python
tools = [
    "VitalSignsMonitor",       # 생체 신호 모니터링 (웨어러블 연동)
    "MedicationReminder",      # 약 복용 알림
    "NearbyHospitalFinder",    # 근처 병원 검색
    "HealthRiskAssessor"       # 건강 위험도 평가
]
```


#### 🛠️ AI Agent 기술 스택

| 항목 | 기술/도구 | 용도 |
|------|----------|------|
| **LLM** | OpenAI GPT-4 | Agent 의사결정 엔진 |
| **Framework** | LangChain 0.1.x | Multi-Agent 구현 |
| **Vector DB** | Pinecone | 지식 베이스 저장 |
| **Orchestration** | LangGraph | Agent 워크플로우 관리 |
| **Monitoring** | LangSmith | Agent 실행 추적 |
| **ML** | TensorFlow 2.x | 예측 모델 |


### 5️⃣ 사용자 & 리뷰 서비스

#### 📋 핵심 기능

1. **사용자 관리**
   - 회원가입/로그인 (JWT 인증)
   - 프로필 관리 (건강 정보, 선호도)
   - 마이페이지

2. **리뷰 시스템**
   - 항공사/숙소/관광지 리뷰 작성
   - **탑승/투숙 완료 시에만 작성 가능** (검증)
   - 별점, 사진, 텍스트 리뷰

3. **AI 리뷰 요약**
   - LangChain으로 수백 개 리뷰를 3-5문장으로 요약
   - 긍정/부정 키워드 추출
   - 시니어 관련 특이사항 강조

#### 🛠️ 기술 스택 & Tools

| 항목 | 기술/도구 | 용도 |
|------|----------|------|
| **Framework** | Spring Boot 3.2 + Spring Security | REST API + 인증 |
| **Database** | PostgreSQL (사용자), MongoDB (리뷰) | 데이터 저장 |
| **인증** | JWT (JSON Web Token) | 토큰 기반 인증 |
| **AI 요약** | LangChain + GPT-4 | 리뷰 요약 |


#### AI 리뷰 요약 구현
    요약 시 포함할 사항:
    1. 접근성 (엘리베이터, 계단, 휠체어 등)
    2. 직원의 친절도 및 시니어 배려
    3. 편의시설 (화장실, 휴게 공간)
    4. 주의사항
